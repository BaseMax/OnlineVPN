<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OnlineVPN - Web Proxy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 100%;
        }
        
        h1 {
            color: #667eea;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }
        
        input[type="text"],
        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
            font-family: inherit;
        }
        
        input[type="text"]:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        button {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .info {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 13px;
            color: #666;
            line-height: 1.6;
        }
        
        .info strong {
            display: block;
            margin-bottom: 8px;
            color: #333;
        }
        
        .example {
            background: #e8f4f8;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ”’ OnlineVPN</h1>
        <p class="subtitle">Simple & Clean Web Proxy</p>
        
        <form id="proxyForm" method="POST" action="/maxme">
            <div class="form-group">
                <label for="target_url">Target URL:</label>
                <input 
                    type="text" 
                    id="target_url" 
                    name="target_url" 
                    placeholder="https://example.com"
                    required
                >
            </div>
            
            <div class="form-group">
                <label for="domains">Allowed Domains (comma-separated):</label>
                <textarea 
                    id="domains" 
                    name="domains"
                    placeholder="example.com, cdn.example.com, api.example.com"
                ></textarea>
            </div>
            
            <button type="submit">Browse via Proxy</button>
        </form>
        
        <div class="info">
            <strong>How it works:</strong>
            Enter a target URL to browse through the proxy. Specify allowed domains (like CDNs or API endpoints) to ensure all resources load correctly. After submission, you'll be redirected to the corresponding path and can navigate normally.
            
            <div class="example">
                <strong>Example:</strong><br>
                URL: https://example.com/category/post1/<br>
                Domains: example.com, cdn.example.com<br>
                â†’ Redirects to: /category/post1/
            </div>
        </div>
    </div>
    
    <script>
        // Form now submits via POST, no need for JavaScript submission
        // Normalize domain input before submission
        document.getElementById('proxyForm').addEventListener('submit', function(e) {
            const domainsText = document.getElementById('domains').value;
            
            if (domainsText.trim()) {
                // Normalize: convert newlines to commas, remove extra spaces, filter empty values
                const domains = domainsText
                    .replace(/[\n\r]+/g, ',')
                    .split(',')
                    .map(d => d.trim())
                    .filter(d => d)
                    .join(',');
                
                document.getElementById('domains').value = domains;
            }
        });
    </script>
</body>
</html>
